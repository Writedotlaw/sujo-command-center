<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SuJo Command Center</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#070b18;--bg2:#0f1631;--card:rgba(17,25,51,.72);--line:rgba(133,164,255,.23);--text:#eef3ff;--muted:#afbfef;--accent:#8b7cff;--accent2:#38d5c6}
    *{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui;background:radial-gradient(1200px 700px at 20% -10%,#2d3f87 0,#0b1126 45%,#060913 100%);color:var(--text)}
    .wrap{max-width:1060px;margin:0 auto;padding:14px}
    .glass{backdrop-filter: blur(10px);background:var(--card);border:1px solid var(--line);border-radius:18px;box-shadow:0 10px 40px rgba(0,0,0,.25)}
    .hero{padding:16px}
    h1{margin:0;font-size:1.28rem;font-weight:800;letter-spacing:.2px}
    .sub{margin-top:4px;color:var(--muted);font-size:.9rem}
    .kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:10px}
    .k{padding:12px}.k .l{color:var(--muted);font-size:.8rem}.k .v{font-weight:800;font-size:1.2rem;margin-top:2px}
    .board{display:grid;gap:10px;margin-top:10px}
    .row{padding:12px}
    .head{display:flex;justify-content:space-between;gap:8px;align-items:center}
    .title{font-weight:700}
    .pill{font-size:.72rem;padding:4px 8px;border-radius:999px;border:1px solid rgba(154,178,255,.35);color:#dce6ff}
    .p0{border-color:#ff7f9e;color:#ffdce7}.p1{border-color:#ffd58b;color:#ffeec8}
    .meta{display:flex;gap:6px;flex-wrap:wrap;margin:8px 0}
    .bar{height:10px;border-radius:999px;background:#1a2752;border:1px solid #334b8f;overflow:hidden}
    .fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2));box-shadow:0 0 18px rgba(108,220,255,.4)}
    .g2{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px}
    .muted{color:var(--muted);font-size:.82rem}
    code{font-size:.75rem;background:#101a3a;padding:2px 6px;border-radius:6px;color:#cddaff}
    .footer{padding:12px;margin-top:10px}
    @media (max-width:760px){.kpis{grid-template-columns:repeat(2,1fr)}.g2{grid-template-columns:1fr}h1{font-size:1.1rem}}
  </style>
</head>
<body>
  <div class="wrap">
    <section class="glass hero">
      <h1>ðŸŒ¿ SuJo Command Center</h1>
      <div id="updated" class="sub">Loadingâ€¦</div>
      <div class="kpis" id="kpis"></div>
    </section>

    <section class="board" id="list"></section>

    <section class="glass footer">
      <div><strong>Linked Ops</strong></div>
      <div class="muted" style="margin-top:6px">Visual reviews, migration plans, and milestone logs are synced from the project workspace.</div>
    </section>
  </div>
<script>
fetch('./data/projects.json').then(r=>r.json()).then(data=>{
  const projects=data.projects||[];
  const active=projects.filter(p=>p.status!=='Done').length;
  const avg=Math.round(projects.reduce((a,p)=>a+(p.progress||0),0)/Math.max(projects.length,1));
  const p0=projects.filter(p=>p.priority==='P0').length;
  const kpi=[['Projects',projects.length],['Active',active],['Avg Progress',avg+'%'],['P0 Focus',p0]];
  document.getElementById('kpis').innerHTML=kpi.map(x=>`<article class='glass k'><div class='l'>${x[0]}</div><div class='v'>${x[1]}</div></article>`).join('');
  document.getElementById('updated').textContent='Updated: '+new Date(data.updatedAt).toLocaleString();
  document.getElementById('list').innerHTML=projects.map(p=>`<article class='glass row'>
      <div class='head'><div class='title'>${p.name}</div><span class='pill'>${p.status}</span></div>
      <div class='meta'>
        <span class='pill'>${p.domain}</span>
        <span class='pill ${p.priority.toLowerCase()}'>${p.priority}</span>
        <span class='pill'>Owner: ${p.owner}</span>
      </div>
      <div class='bar'><div class='fill' style='width:${p.progress}%'></div></div>
      <div class='g2'>
        <div><div class='muted'>Next</div><div>${p.next}</div></div>
        <div><div class='muted'>ETA</div><div>${p.eta}</div></div>
      </div>
    </article>`).join('');
});
</script>
</body>
</html>