<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SuJo Command Center</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#060a16;--bg2:#0d1430;--card:rgba(19,28,57,.74);--line:rgba(132,162,255,.25);--text:#edf3ff;--muted:#aebeea;--a:#7f76ff;--b:#35d0c2;--hot:#ff8080;--warn:#ffd27e;--ok:#7de3ae}
    *{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui;background:radial-gradient(1200px 800px at 10% -10%,#2a3d85 0,#0a1025 42%,#060913 100%);color:var(--text)}
    .wrap{max-width:1100px;margin:0 auto;padding:14px}
    .glass{backdrop-filter: blur(12px);background:var(--card);border:1px solid var(--line);border-radius:18px;box-shadow:0 10px 36px rgba(0,0,0,.26)}
    .hero{padding:14px}
    h1{margin:0;font-size:1.28rem;font-weight:800}.muted{color:var(--muted);font-size:.88rem}
    .tabs{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}.tab{padding:8px 12px;border-radius:999px;border:1px solid #3b4f8e;color:#d8e4ff;cursor:pointer}.tab.active{background:linear-gradient(90deg,var(--a),var(--b));border:none;color:#09101f;font-weight:700}
    .kpis{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:10px}.k{padding:10px}.k .l{font-size:.75rem;color:var(--muted)}.k .v{font-weight:800;font-size:1.1rem;margin-top:2px}
    .section{display:none;margin-top:10px}.section.active{display:block}
    .list{display:grid;gap:8px}.row{padding:12px}.head{display:flex;justify-content:space-between;gap:8px;align-items:center}.title{font-weight:700}
    .meta{display:flex;gap:6px;flex-wrap:wrap;margin:8px 0}.pill{font-size:.72rem;padding:4px 8px;border-radius:999px;border:1px solid rgba(153,178,255,.35);color:#dbe6ff}
    .p0{border-color:#ff7f9f;color:#ffdce8}.p1{border-color:#ffd58b;color:#ffeec8}.ok{border-color:#72d6a3;color:#dbffe8}
    .bar{height:10px;border-radius:999px;background:#1a2752;border:1px solid #334b8f;overflow:hidden}.fill{height:100%;background:linear-gradient(90deg,var(--a),var(--b))}
    .g2{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px}
    .cards{display:grid;grid-template-columns:1fr 1fr;gap:8px}.card{padding:12px}
    .impact{font-size:.72rem;padding:4px 8px;border-radius:999px;border:1px solid #3f5ea8}
    .high{border-color:#ff6f8f;color:#ffd6e1}.med{border-color:#f7c56e;color:#ffe7bf}
    .timeline{display:grid;gap:8px}.step{display:grid;grid-template-columns:80px 1fr auto;gap:8px;align-items:center;padding:10px}
    .phase{font-size:.75rem;color:#cfe0ff;background:#16214a;border:1px solid #334b8f;border-radius:8px;padding:4px 6px;text-align:center}
    .tag{font-size:.72rem;padding:4px 8px;border-radius:999px;border:1px solid #3b4f8e}
    .footer{padding:12px;margin-top:10px}
    @media (max-width:800px){.kpis{grid-template-columns:repeat(2,1fr)}.cards{grid-template-columns:1fr}.g2{grid-template-columns:1fr}.step{grid-template-columns:70px 1fr}}
  </style>
</head>
<body>
<div class='wrap'>
  <section class='glass hero'>
    <h1>ðŸŒ¿ SuJo Command Center</h1>
    <div id='updated' class='muted'>Loadingâ€¦</div>
    <div class='tabs' id='tabs'></div>
    <div class='kpis' id='kpis'></div>
  </section>

  <section id='sec-projects' class='section active'></section>
  <section id='sec-suggestions' class='section'></section>
  <section id='sec-roadmap' class='section'></section>
  <section id='sec-models' class='section'></section>
  <section id='sec-memo' class='section'></section>
  <section id='sec-charter' class='section'></section>
  <section id='sec-compliance' class='section'></section>
  <section id='sec-live' class='section'></section>

  <section class='glass footer'>
    <div><strong>Supervisor Mode</strong></div>
    <div class='muted' style='margin-top:6px'>Balanced-by-default execution. SuJo runs multi-hour work streams and escalates only major decisions.</div>
  </section>
</div>
<script>
const tabs=[['projects','Projects'],['suggestions','Suggestions'],['roadmap','Future Plan'],['models','Model Multitask Board'],['memo','SuJo Memo'],['charter','Charter'],['compliance','Compliance'],['live','Live Work']];
const tWrap=document.getElementById('tabs');
function setTab(key){document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));document.querySelector(`[data-tab='${key}']`).classList.add('active');document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));document.getElementById('sec-'+key).classList.add('active');}
tWrap.innerHTML=tabs.map(([k,l],i)=>`<button class='tab ${i===0?'active':''}' data-tab='${k}'>${l}</button>`).join('');
document.querySelectorAll('.tab').forEach(b=>b.onclick=()=>setTab(b.dataset.tab));

fetch('./data/projects.json').then(r=>r.json()).then(data=>{
  const p=data.projects||[]; const k=data.kpis||{};
  const avg=Math.round(p.reduce((a,x)=>a+(x.progress||0),0)/Math.max(p.length,1));
  const p0=p.filter(x=>x.priority==='P0').length;
  const top=[['Projects',p.length],['Active',p.filter(x=>x.status!=='Done').length],['Avg Progress',avg+'%'],['P0 Focus',p0],['Model Runs (24h)',k.modelRuns24h||0]];
  document.getElementById('kpis').innerHTML=top.map(x=>`<article class='glass k'><div class='l'>${x[0]}</div><div class='v'>${x[1]}</div></article>`).join('');
  document.getElementById('updated').textContent='Updated: '+new Date(data.updatedAt).toLocaleString();

  document.getElementById('sec-projects').innerHTML=`<div class='list'>${p.map(x=>`<article class='glass row'><div class='head'><div class='title'>${x.name}</div><span class='pill'>${x.status}</span></div><div class='meta'><span class='pill'>${x.domain}</span><span class='pill ${x.priority.toLowerCase()}'>${x.priority}</span><span class='pill'>Owner: ${x.owner}</span></div><div class='bar'><div class='fill' style='width:${x.progress}%'></div></div><div class='g2'><div><div class='muted'>Next</div><div>${x.next}</div></div><div><div class='muted'>ETA</div><div>${x.eta}</div></div></div></article>`).join('')}</div>`;

  const sug=data.suggestions||[];
  document.getElementById('sec-suggestions').innerHTML=`<div class='cards'>${sug.map(s=>`<article class='glass card'><div style='display:flex;justify-content:space-between;gap:8px'><strong>${s.title}</strong><span class='impact ${s.impact==='High'?'high':'med'}'>${s.impact} impact</span></div><p class='muted' style='margin:8px 0 6px'>${s.why}</p><div><span class='muted'>Next:</span> ${s.next}</div></article>`).join('')}</div>`;

  const rm=data.roadmap||[];
  document.getElementById('sec-roadmap').innerHTML=`<div class='timeline'>${rm.map(r=>`<article class='glass step'><div class='phase'>${r.phase}</div><div><div><strong>${r.title}</strong></div><div class='muted'>${r.window}</div></div><div class='tag ${r.status==='In Progress'?'ok':''}'>${r.status}</div></article>`).join('')}</div>`;

  const mt=data.modelTasks||[];
  document.getElementById('sec-models').innerHTML=`<div class='list'>${mt.map(m=>`<article class='glass row'><div class='head'><div class='title'>${m.task}</div><span class='pill'>${m.status}</span></div><div class='meta'><span class='pill'>Model: ${m.model}</span><span class='pill'>Mode: ${m.mode}</span></div><div><span class='muted'>ETA:</span> ${m.eta}</div></article>`).join('')}</div>`;

  fetch('./data/memo.json').then(r=>r.json()).then(m=>{
    document.getElementById('sec-memo').innerHTML = `<div class='cards'>
      <article class='glass card'>
        <strong>Identity + Mode</strong>
        <p class='muted' style='margin:8px 0'>${m.identity} â€¢ ${m.operatingMode}</p>
        <div><span class='pill'>Humans: ${m.humans.join(' + ')}</span></div>
      </article>
      <article class='glass card'>
        <strong>Always Remember</strong>
        <ul>${m.alwaysRemember.map(x=>`<li>${x}</li>`).join('')}</ul>
      </article>
      <article class='glass card'>
        <strong>Current Focus</strong>
        <ul>${m.currentFocus.map(x=>`<li>${x}</li>`).join('')}</ul>
      </article>
    </div>`;
  });

  fetch('./data/charter.json').then(r=>r.json()).then(c=>{
    document.getElementById('sec-charter').innerHTML = `<div class='cards'>
      <article class='glass card'>
        <strong>${c.name}</strong>
        <p class='muted'>Version ${c.version} â€¢ Mode: ${c.mode}</p>
        <ul>${c.commitments.map(x=>`<li>${x}</li>`).join('')}</ul>
      </article>
      <article class='glass card'>
        <strong>Escalation Rules</strong>
        <ul>${c.escalation.map(x=>`<li>${x}</li>`).join('')}</ul>
      </article>
      <article class='glass card'>
        <strong>Multi-Model Lanes</strong>
        <ul>
          <li><b>GPT/Codex:</b> ${c.multimodel.gpt_codex}</li>
          <li><b>Claude:</b> ${c.multimodel.claude}</li>
          <li><b>Gemini:</b> ${c.multimodel.gemini}</li>
        </ul>
      </article>
    </div>`;
  });

  fetch('./data/compliance.json').then(r=>r.json()).then(z=>{
    document.getElementById('sec-compliance').innerHTML = `<div class='cards'>
      <article class='glass card'>
        <strong>Compliance State</strong>
        <p class='muted'>Updated: ${new Date(z.updatedAt).toLocaleString()}</p>
        <div><span class='pill ${z.state==='healthy'?'ok':'p0'}'>${z.state.toUpperCase()}</span> <span class='pill'>Score: ${z.score}</span></div>
      </article>
      <article class='glass card'>
        <strong>Check Summary</strong>
        <ul>
          <li>Pass: ${z.pass}</li>
          <li>Fail: ${z.fail}</li>
        </ul>
      </article>
      <article class='glass card'>
        <strong>Details</strong>
        <ul>${z.checks.map(c=>`<li>[${c.status}] ${c.id}</li>`).join('')}</ul>
      </article>
    </div>`;
  });

  fetch('./data/live-status.json').then(r=>r.json()).then(l=>{
    document.getElementById('sec-live').innerHTML = `<div class='cards'>
      <article class='glass card'>
        <strong>Live Execution Status</strong>
        <p class='muted'>Updated: ${new Date(l.updatedAt).toLocaleString()}</p>
        <div><span class='pill ok'>${l.mode}</span> <span class='pill'>refresh: ${l.heartbeatSeconds}s</span></div>
      </article>
      <article class='glass card'>
        <strong>Now Working On</strong>
        <ul>${l.nowWorkingOn.map(x=>`<li>${x}</li>`).join('')}</ul>
      </article>
      <article class='glass card'>
        <strong>Model Queue</strong>
        <ul>
          <li><b>GPT:</b> ${(l.modelQueue.gpt||[]).join(' â€¢ ')}</li>
          <li><b>Claude:</b> ${(l.modelQueue.claude||[]).join(' â€¢ ')}</li>
          <li><b>Gemini:</b> ${(l.modelQueue.gemini||[]).join(' â€¢ ')}</li>
        </ul>
      </article>
    </div>`;
  });
});

setInterval(()=>location.reload(), 30000);
</script>
</body>
</html>